<html>
<head>
<style type="text/css">
.clear {
 clear: both;
}

.jw-button {
 float: left;
 margin: 0 5px;
 cursor: pointer;
 border: 1px solid #ccc;
 padding: 5px;
}

.pannel {
  width:80%;
}

.splitor {
 border: 1px dotted #ccc;
 width: 90%;
 margin: 5px;
}
</style>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
<script type="text/javascript">

$(document).ready(function() {
var mcontext;
var width = 600, height=600

function drawSomething(context, ox, oy)
{
	context.fillStyle   = '#000'; // black
	context.fillRect(0, 0, width, height);

	context.fillStyle   = '#00f'; // blue
	context.strokeStyle = '#f00'; // red
	context.lineWidth   = 4;

	// Draw some rectangles.
	// Arguments: x, y, width, height
	context.clearRect (ox+60,  oy+15,  90, 42);
	context.fillRect  (ox+80,  oy+30, 20, 20);
	context.fillRect  (ox+115, oy+30, 20, 20);

	context.fillStyle   = '#0ff';
	context.strokeStyle = '#00f';

	context.strokeRect(ox+0,   oy+60, 150, 50);
	context.strokeRect(ox+60,  oy+15,  90, 42);
	context.fillRect  (ox+10,  oy+30, 30, 40);

	context.fillStyle   = '#00f';
	context.strokeStyle = '#f00';
	context.lineWidth   = 4;

	// Draw a line, then a BÃ¨zier curve.
	context.beginPath();
	context.moveTo(ox+40, oy+120);
	context.lineTo(ox+120,oy+120);
	context.moveTo(ox+150,oy+100);
	// Arguments: cp1x, cp1y, cp2x, cp2y, x, y
	// cp = control point.
	context.bezierCurveTo(210, 30, 250, 160, 600, 120);
	context.stroke();
	context.closePath();

	context.strokeStyle = '#0D0';
	// Draw a circle using the arc function.
	context.beginPath();

	// Arguments: x, y, radius, start angle, end angle, anticlockwise
	context.arc(ox+120, oy+115, 30, 0, 360, false);
	context.arc(ox+120, oy+115, 10, 0, 360, false);
	context.stroke();
	context.closePath();

	context.beginPath();
	context.arc(ox+30, oy+115, 30, 0, 360, false);
	context.arc(ox+30, oy+115, 10, 0, 360, false);
	context.stroke();
	context.closePath();
}

var train_long = 200;
var ox = width - train_long, oy = 0;
function animate()
{
	ox -=3;
        oy +=1;
	if (ox < 50 || oy > height/2)
		return;

	setTimeout(function () {
	    drawSomething(mcontext, ox, oy);
	    animate();
	}, 50);
}

function setupCanvasWindows(elm) {
	var elem = document.getElementById(elm);
	if (elem && elem.getContext) {
		mcontext = elem.getContext('2d');
		if (!mcontext) 
			return;

		drawSomething(mcontext, ox, oy);
	}
}

	setupCanvasWindows('drawpanel');
	$("#drawpanel").width(width);
	$("#drawpanel").height(height);

	$("#animate").click(function() {
	animate(); });
	$("#reset").click(function() {
		ox = 400, oy=30;	
		drawSomething(mcontext, ox, oy);
	});
});

</script>

</head>
<body>
<h1>Canvas Train Samples </h1>
<div>
<div id="animate" class="jw-button">animate</div>
<div id="reset" class="jw-button">reset_animate</div>
<div class="clear"></div>
</div>
<div class="splitor"></div>
<br>
<div class="pannel">
<canvas id="drawpanel" width="600" height="300">
Fallback content, in case the browser does not support Canvas.
</canvas></div>

</body>
</html>
